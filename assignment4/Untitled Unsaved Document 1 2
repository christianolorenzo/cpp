* Exercise 3.46 Part B Solution */
2
#include<stdio.h>
34
intmain()
5
{
6
 intfirst;/* first decrypted digit */
7
 intsecond;/* second decrypted digit */
8
 intthird;/* third decrypted digit */
9
 intfourth;/* fourth decrypted digit */
10
 intdecrypted;/* decrypted number */
11
 inttemp1;/* temporarily hold digit */
12
 inttemp2;/* temporarily hold digit */
13
 intencryptedNumber;/* input number */
1415
 /* prompt for input */
16
printf("Enter a four digit encrypted number: ");
17
scanf("%d", &encryptedNumber );
1819
temp1 = encryptedNumber;
2021
 /* retrieve each digit and decrypt by 
22
 (sum of digit and 3) mod 10 */
23
first = ( temp1 /1000);
24
temp2 = temp1 %1000;
2526
second = ( temp2 /100);
27
temp1 = temp2 %100;
2829
third = ( temp1 /10);
30
temp2 = temp1 %10;
3132
fourth = temp2;
3334
temp1 = ( first +3) %10;
35
first = ( third +3) %10;
36
third = temp1;
3738
temp1 = ( second +3) %10;
39
second = ( fourth +3) %10;
40
fourth = temp1;
4142
 /* add components to obtain decrypted number */
43
decrypted = ( first *1000) + ( second *100) +
44
( third *10) + fourth;
4546
 /* display decrypted number */
47
printf("Decrypted number is %d\n", decrypted );
4849
 return 0;/* indicate successful termination */
5051
}/* end main */
